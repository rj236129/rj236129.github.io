// Firebase Authentication
firebase.auth().createUserWithEmailAndPassword(email, password)
  .then((userCredential) => {
    // Successful signup
    var user = userCredential.user;
  })
  .catch((error) => {
    var errorCode = error.code;
    var errorMessage = error.message;
  });
// Record user action
function recordAction(userId, action) {
  var timestamp = new Date().toISOString();
  // Save to database
  firebase.firestore().collection("userActions").add({
    userId: userId,
    action: action,
    timestamp: timestamp
  });
}

// Example usage
recordAction("12345", "Visited PAN Card Page");
// Fetch user history
function getUserHistory(userId) {
  firebase.firestore().collection("userActions").where("userId", "==", userId)
    .get()
    .then((querySnapshot) => {
      querySnapshot.forEach((doc) => {
        var action = doc.data().action;
        var timestamp = doc.data().timestamp;
        // Display history in HTML
        document.getElementById("history").innerHTML += `<li>${action} at ${timestamp}</li>`;
      });
    });
}

// Example usage
getUserHistory("12345");
